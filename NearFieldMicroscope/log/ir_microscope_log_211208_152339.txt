2021-12-08T15:23:41|INFO|HydraHarpOptimizerMeasure|hydraharp_channel_optimizer start_stop False
2021-12-08T15:23:41|INFO|HydraHarpOptimizerMeasure|measurement hydraharp_channel_optimizer stopping stop_first
2021-12-08T15:23:41|INFO|HydraHarpHistogramMeasure|hydraharp_histogram start_stop False
2021-12-08T15:23:41|INFO|HydraHarpHistogramMeasure|measurement hydraharp_histogram stopping stop_first
2021-12-08T15:23:41|INFO|PowerScanMeasure|power_scan start_stop False
2021-12-08T15:23:41|INFO|PowerScanMeasure|measurement power_scan stopping stop_first
2021-12-08T15:23:41|INFO|PowerMeterOptimizerMeasure|powermeter_optimizer start_stop False
2021-12-08T15:23:41|INFO|PowerMeterOptimizerMeasure|measurement powermeter_optimizer stopping stop_first
2021-12-08T15:23:41|INFO|APDOptimizerCBMeasurement|apd_optimizer start_stop False
2021-12-08T15:23:41|INFO|APDOptimizerCBMeasurement|measurement apd_optimizer stopping stop_first
2021-12-08T15:23:41|INFO|NearFieldMicroscope|setting up figures for hydraharp_channel_optimizer measurement hydraharp_channel_optimizer
2021-12-08T15:23:41|INFO|HydraHarpOptimizerMeasure|hydraharp_channel_optimizer start_stop False
2021-12-08T15:23:41|INFO|HydraHarpOptimizerMeasure|measurement hydraharp_channel_optimizer stopping stop_first
2021-12-08T15:23:41|INFO|NearFieldMicroscope|setting up figures for hydraharp_histogram measurement hydraharp_histogram
2021-12-08T15:23:41|INFO|NearFieldMicroscope|setting up figures for power_scan measurement power_scan
2021-12-08T15:23:41|INFO|PowerScanMeasure|power_scan start_stop False
2021-12-08T15:23:41|INFO|PowerScanMeasure|measurement power_scan stopping stop_first
2021-12-08T15:23:41|INFO|NearFieldMicroscope|setting up figures for powermeter_optimizer measurement powermeter_optimizer
2021-12-08T15:23:41|INFO|PowerMeterOptimizerMeasure|powermeter_optimizer start_stop False
2021-12-08T15:23:41|INFO|PowerMeterOptimizerMeasure|measurement powermeter_optimizer stopping stop_first
2021-12-08T15:23:41|INFO|NearFieldMicroscope|setting up figures for apd_optimizer measurement apd_optimizer
2021-12-08T15:23:41|INFO|APDOptimizerCBMeasurement|apd_optimizer start_stop False
2021-12-08T15:23:41|INFO|APDOptimizerCBMeasurement|measurement apd_optimizer stopping stop_first
2021-12-08T15:23:41|INFO|NearFieldMicroscope|ini settings loading from near_field_microscope_defaults.ini
2021-12-08T15:23:41|INFO|NearFieldMicroscope|hardware/hydraharp
2021-12-08T15:23:41|INFO|NearFieldMicroscope|hardware/pololu_maestro
2021-12-08T15:23:41|CRITICAL|root|Unhandled exception:Traceback (most recent call last):
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundry\logged_quantity.py", line 842, in update_math
    new_val = self.math_func(*lq_vals)
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundryHW\pololu_servo\multi_servo_hw.py", line 36, in <lambda>
    func=lambda raw, rmin, rmax, scale: scale*( (raw - rmin)/(rmax-rmin) ),
ZeroDivisionError: float division by zero

2021-12-08T15:23:45|INFO|NearFieldMicroscope|hardware/power_wheel
2021-12-08T15:23:45|INFO|NearFieldMicroscope|hardware/thorlabs_powermeter
2021-12-08T15:23:45|INFO|NearFieldMicroscope|hardware/apd_counter
2021-12-08T15:23:45|INFO|NearFieldMicroscope|ini settings loaded from: near_field_microscope_defaults.ini
2021-12-08T15:24:10|DEBUG|ScopeFoundryHW.thorlabs_powermeter.thorlabs_pm100d|get_auto_range '1\n'
2021-12-08T15:24:10|DEBUG|ScopeFoundryHW.thorlabs_powermeter.thorlabs_pm100d|get_auto_range '1\n'
2021-12-08T15:24:14|DEBUG|ScopeFoundryHW.ni_daq.devices.ni_counter_task|NI_CounterTask.set_channel-- Dev1/ctr0 /Dev1/PFI0
2021-12-08T15:26:36|INFO|PowerMeterOptimizerMeasure|powermeter_optimizer start_stop True
2021-12-08T15:26:36|INFO|PowerMeterOptimizerMeasure|measurement powermeter_optimizer start called from thread: 18744
2021-12-08T15:28:00|CRITICAL|root|Unhandled exception:Traceback (most recent call last):
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundry\hardware.py", line 166, in <lambda>
    op_button.clicked.connect(lambda checked, f=op_func: f())
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundry\hardware.py", line 278, in reload_code
    import xreload
ModuleNotFoundError: No module named 'xreload'

2021-12-08T15:29:29|INFO|APDOptimizerCBMeasurement|apd_optimizer start_stop True
2021-12-08T15:29:29|INFO|APDOptimizerCBMeasurement|measurement apd_optimizer start called from thread: 18744
2021-12-08T15:31:58|INFO|PowerScanMeasure|power_scan start_stop True
2021-12-08T15:31:58|INFO|PowerScanMeasure|measurement power_scan start called from thread: 18744
2021-12-08T15:33:21|INFO|PowerScanMeasure|data saved C:\Users\RAMAN\workspace\NearField\NearFieldMicroscope\data\211208_153321_power_scan.h5
2021-12-08T15:33:21|INFO|PowerScanMeasure|power_scan start_stop False
2021-12-08T15:33:21|INFO|PowerScanMeasure|measurement power_scan stopping run_post_run
2021-12-08T15:33:21|INFO|PowerScanMeasure|measurement power_scan interrupt called
2021-12-08T15:41:22|INFO|PowerScanMeasure|power_scan start_stop True
2021-12-08T15:41:22|INFO|PowerScanMeasure|measurement power_scan start called from thread: 18744
2021-12-08T15:42:04|INFO|PowerScanMeasure|power_scan start_stop False
2021-12-08T15:42:04|INFO|PowerScanMeasure|measurement power_scan stopping run_thread_run
2021-12-08T15:42:04|INFO|PowerScanMeasure|measurement power_scan interrupt called
2021-12-08T15:42:05|INFO|PowerScanMeasure|data saved C:\Users\RAMAN\workspace\NearField\NearFieldMicroscope\data\211208_154205_power_scan.h5
2021-12-08T15:42:06|INFO|PowerScanMeasure|power_scan start_stop True
2021-12-08T15:42:06|INFO|PowerScanMeasure|measurement power_scan start called from thread: 18744
2021-12-08T15:42:20|INFO|APDOptimizerCBMeasurement|apd_optimizer start_stop False
2021-12-08T15:42:20|INFO|APDOptimizerCBMeasurement|measurement apd_optimizer stopping run_thread_run
2021-12-08T15:42:20|INFO|APDOptimizerCBMeasurement|measurement apd_optimizer interrupt called
2021-12-08T15:44:18|INFO|PowerScanMeasure|data saved C:\Users\RAMAN\workspace\NearField\NearFieldMicroscope\data\211208_154418_power_scan.h5
2021-12-08T15:44:18|INFO|PowerScanMeasure|power_scan start_stop False
2021-12-08T15:44:18|INFO|PowerScanMeasure|measurement power_scan stopping run_post_run
2021-12-08T15:44:18|INFO|PowerScanMeasure|measurement power_scan interrupt called
2021-12-08T15:45:19|INFO|APDOptimizerCBMeasurement|apd_optimizer start_stop True
2021-12-08T15:45:19|INFO|APDOptimizerCBMeasurement|measurement apd_optimizer start called from thread: 18744
2021-12-08T16:06:42|DEBUG|FileLQ|''
2021-12-08T16:06:55|DEBUG|FileLQ|save_dir qLineEdit on_edit_finished
2021-12-08T16:06:55|DEBUG|FileLQ|save_dir: update_value 'C:\\Users\\RAMAN\\workspace\\NearField\\NearFieldMicroscope\\data' --> 'C:\\Users\\RAMAN\\workspace\\NearField\\NearFieldMicroscope'    sender=<PyQt5.QtWidgets.QLineEdit object at 0x000001AB98D13B88>
2021-12-08T16:06:55|DEBUG|FileLQ|save_dir: different values C:\Users\RAMAN\workspace\NearField\NearFieldMicroscope\data C:\Users\RAMAN\workspace\NearField\NearFieldMicroscope
2021-12-08T16:06:57|DEBUG|FileLQ|''
2021-12-08T16:08:04|DEBUG|FileLQ|''
2021-12-08T16:13:44|DEBUG|root|close
2021-12-08T16:13:45|DEBUG|root|closing
2021-12-08T16:13:45|INFO|NearFieldMicroscope|on_close
2021-12-08T16:13:46|INFO|NearFieldMicroscope|disconnecting hydraharp
2021-12-08T16:13:46|INFO|NearFieldMicroscope|disconnecting pololu_maestro
2021-12-08T16:13:46|INFO|NearFieldMicroscope|disconnecting power_wheel
2021-12-08T16:13:46|INFO|NearFieldMicroscope|disconnecting thorlabs_powermeter
2021-12-08T16:13:46|INFO|NearFieldMicroscope|disconnecting apd_counter
2021-12-08T16:13:46|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:46|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:46|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:46|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:46|CRITICAL|root|Unhandled exception:Traceback (most recent call last):
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundryHW\ni_daq\devices\ni_counter_task.py", line 152, in read_buffer
    self.task.ReadCounterF64(-1, timeout, data, count, mx.byref(read_count), None)
  File "<string>", line 3, in ReadCounterF64
  File "<string>", line 2, in function
  File "C:\ProgramData\Anaconda3\lib\site-packages\PyDAQmx\DAQmxFunctions.py", line 62, in mafunction
    raise exception_class(errBuff.value.decode("utf-8"), f.__name__)
PyDAQmx.DAQmxFunctions.CannotReadWhenAutoStartFalseAndTaskNotRunningOrCommittedError: Read cannot be performed when the Auto Start property is false and the task is not running or committed.

Start the task before reading, or set Auto Start to true.
Property: DAQmx_Read_AutoStart
Corresponding Value: 0

Task Name: _unnamedTask<0>

Status Code: -200473
 in function DAQmxReadCounterF64

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundryHW\ni_daq\hw\ni_freq_counter_callback.py", line 83, in counter_callback
    self.current_count = self.counter_task.read_buffer(count=self.n_samples_cb)[-1]
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundryHW\ni_daq\devices\ni_counter_task.py", line 154, in read_buffer
    self.error(err)
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundryHW\ni_daq\devices\ni_task_wrap.py", line 42, in error
    logger.error('Error calling "{}": {}'.format( err.fname, err.mess ))
AttributeError: 'CannotReadWhenAutoStartFalseAndTaskNotRunningOrCom' object has no attribute 'mess'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "_ctypes/callbacks.c", line 232, in 'calling callback function'
  File "C:\ProgramData\Anaconda3\lib\site-packages\PyDAQmx\Task.py", line 44, in EveryNCallback_py
    def EveryNCallback_py(taskHandle, everyNsamplesEventType, nSamples, self_id):
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundryHW\ni_daq\hw\ni_freq_counter_callback.py", line 86, in counter_callback
    self.restart_task()
  File "C:\Users\RAMAN\workspace\NearField\ScopeFoundryHW\ni_daq\hw\ni_freq_counter_callback.py", line 112, in restart_task
    C = self.counter_task
AttributeError: 'NI_FreqCounterCallBackHW' object has no attribute 'counter_task'

2021-12-08T16:13:46|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:46|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:46|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:47|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
2021-12-08T16:13:48|WARNING|LoggedQuantity|power read_from_hardware called when not connected to hardware
